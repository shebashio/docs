---
title: "How do I connect to my DEDZED ephemeral cluster?"
description: "Step-by-step instructions for connecting to your DEDZED clusters"
---

<Note>
### How do I connect to my DEDZED ephemeral cluster?
</Note>

<iframe
  src="https://www.loom.com/embed/fe9bb9158df84f1fa12b9e7dff204148"
  width="100%"
  height="400"
  frameBorder="0"
  allow="fullscreen"
/>

---

## Connecting to Azure Kubernetes (AKS) clusters

<Warning>
Ensure you have an unexpired CAC plugged in to your machine.
</Warning>

### Creating your Rancher API token

1. Navigate to [https://kasm.dedzed.blacklabel.mil](https://kasm.dedzed.blacklabel.mil) and click the **Ping Identity** option.
2. Sign in with your Ping login and **Use a certificate or smart card** option to login.
3. Once you're in the KASM console, start a KASM workspace session using **SHE BASH Ubuntu** or **Windows 11**.
4. Within the KASM workspace session, open a browser and navigate to [DEDZED Rancher Service](https://rancher.dso.sh/).
   - Login with your DEDZED username & password.
5. Go to **Account & API Keys** section by clicking on your profile picture on the top right corner of the screen.
6. Click **Create API Key**.
7. Set your token expiration date and **Scope** to "No Scope" and click **Create**.
8. On the following page, copy & save your **Bearer Token** and click **Done**.
9. Keep this webpage open and proceed to the next steps.

---

## Connecting to your cluster(s)

Your clusters are automatically synced when your Kasm workspace starts. A `setup.sh` script on your desktop handles the connection setup.

<Warning>
Before proceeding further, ensure your requested cluster(s) is online and available to accept incoming connections. Otherwise, the cluster connection will fail due to unavailable endpoints.

If you have not requested a cluster yet, please refer to the [Deploying an Ephemeral Cluster](/getting-started/deploying-cluster) guide.
</Warning>

### Automatic cluster sync

1. Start a Kasm workspace session using **SHE BASH Ubuntu** or **Windows 11**.
2. On first run, the `setup.sh` script on your desktop will prompt for your Rancher API token. Copy & paste your token in the terminal and hit return to proceed.
3. The script will sync your available clusters. If no environment request or cluster(s) are available, it'll return `No clusters found or failed to fetch clusters`.

### Setting your KUBECONFIG

After the sync completes, your kubeconfig files are saved to the **Documents** directory. Set the `KUBECONFIG` environment variable to point to the correct cluster config:

```bash
export KUBECONFIG=~/Documents/<your-cluster-name>.yaml
```

### Accessing your cluster

1. Run **k9s** or **kubectl** to connect to your cluster.
2. You will be prompted to authenticate via **Ping Identity** â€” complete the login to authorize access to the cluster.
3. Once authenticated, you can interact with your cluster resources.

Check out the **k9s** cheat sheet for a reference guide to working within **k9s**.

<Card title="k9s cheat sheet" icon="terminal" href="/knowledge-base/k9s-cheat-sheet">
  Quick reference guide for working with k9s.
</Card>
